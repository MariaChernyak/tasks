<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>callboard</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	
<div class="page-container">

<header>
		<div data-bind="ifnot: currentUser" class="authorization">
			<button class="btn btn-primary btn-md login" id='signin-button' type="button" data-toggle='modal' data-target='#signin'>Войти</button>

		<button class="btn btn-primary btn-md "  id='signup-button' type="button" data-toggle='modal' data-target='#signin'>Регистрация</button>
			
			<div id='signin' class="modal fade" tabindex="-1">
			<form role="form" class="login-form">
				<div class="form-group">
					<label for="login">Логин</label>
				 	<input type="name" class="form-control" id="login" placeholder="Введите логин">
				 </div>
				 <div class="form-group">
				 	<label for="pass">Пароль</label>
					 <input type="password" class="form-control" id="pass" placeholder="Пароль">
				 </div>
				<div class="form-group proofPass">
				 	<label for="pass">Подтверждение пароля</label>
					 <input type="password" class="form-control" id="proofPass" placeholder="Повторите пароль">
				 </div>
				 <button type="submit" class="btn btn-success">Ок</button>
				 <button class="btn btn-default" type="button" data-dismiss="modal">Отмена</button>
			</form>
		</div>


		</div>
	<div data-bind="if: currentUser" class="userinfo">
		<span class='username' data-bind="text: currentUser().name"></span>
		 <button type="button" id='signout' class="btn btn-primary" data-bind="click: signout">Выйти</button>

	</div>
		
		
	</header>


	<nav class="navigation">
		<ul class='categories  nav nav-tabs nav-pills' data-bind = "foreach: categories()">
			<!-- <li id='-1category' class='active'>Все объявления</li> -->
			<li data-bind="arrr: {'id': id}, text: name, click: $root.tab"></li>

		</ul>
	</nav>

<button class="btn btn-primary btn-md" id="add-button"  type="button"  data-toggle='modal' data-target='#edit' >Добавить</button>
<div class="content-container">
		<ul class="buttons">
			<li data-id='1' class="glyphicon glyphicon-th"></li>
			<li class='active glyphicon glyphicon-th-large' data-id ='2'></li>
			<li data-id='3' class="glyphicon glyphicon-th-list"></li>
		</ul>

		<div class=" column-2 content" data-bind="foreach: ads()">
			<div class="ad" data-bind = "click: $root.openEditForm">
			<ul data-bind="if: $root.currentUser() && ($root.currentUser().role =='admin' || $root.currentUser().id == id)" class="edit-buttons">
				<li class="edit">
					<a class='glyphicon glyphicon-pencil' data-toggle='modal' data-target='#edit'  ></a>	<!-- <a class='glyphicon glyphicon-pencil'  data-toggle='modal' data-target='#edit' ></a> -->
				</li>
				<li class="delete" data-bind="click: $root.deleteAd"><a class='glyphicon glyphicon-remove'></a></li>
			</ul>
<!-- 			 	<img src="img/noImage.jpg"> -->
				<img class="add-img" src="img/noImage.jpg" data-bind="attr:{'src': img}">
				<h2 class="ad-name" data-bind="text:name"></h2>
				<p class="ad-price" data-bind="text:price"></p>
				<p class="description" data-bind="text:description"></p>
				
			</div>
       

		</div>
<!-- 		<button type='button' id='load-button' class="btn btn-primary btn-md pagination-button">показать еще</button> -->
	</div>
</div>
<div id='edit' class="modal fade" tabindex="-1">
			<form role="form" name='edit-form' class="login-form">
				<div class="form-group">
					<label for="name">Название</label>
				  	<input type="text" class="form-control" id="name" placeholder="Введите название" data-bind = "value: currentAd().name">
				</div>
				<div class="form-group">
				  	<label for="photo">Фото</label>
				  	<input type="file" class="form-control" id="photo" placeholder="Выберите файл">
				</div>
				<div class="form-group">
				  	<label for="price">Цена</label>
				  	<input type="number" class="form-control" id="price" placeholder="Цена" data-bind = "value: currentAd().price">
				 </div>

				 <div class="form-group">
					<label for="category">Категория</label>
					<select class="form-control" id="category" placeholder="Категория" data-bind = "value: currentAd().categoryID"></select>
				</div>
				<div class="form-group">
				  	<label for="description">Описание</label>
				 	 <input type="text" class="form-control" id="description" placeholder="Описание" data-bind = "value: currentAd().description">
				</div>
				
				<button id="edit-button" data-dismiss="modal" class="btn btn-success">Сохранить</button>
				<button class="btn btn-default" type="button"  data-dismiss="modal">Отмена</button>
			</form>
		</div>
	<!-- 	Меня зовут <span data-bind="text: personName"></span> и мне <span data-bind="text: personAge"></span> года -->
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> -->
<script src ="js/jquery.min.js" type="text/javascript"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>
<!-- <script type="text/javascript" src='js/jquery.min.js'></script> -->
<script type="text/javascript" src='js/knockout.js'></script>
<script src = "js/script.js" type="text/javascript"></script>

</body>
</html>